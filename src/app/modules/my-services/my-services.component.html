<app-header 
  [title]="pageInfo.title"
  [description]="pageInfo.description"
  [imageUrl]="pageInfo.imageUrl"></app-header>
<div class="my-services-container" fxLayout="row wrap" fxLayoutAlign="end">
  <div class="my-services-content" fxFlex="1 0 auto" fxLayout="column" fxLayoutAlign="start">
    <mat-card>
      <mat-card-title>My Services</mat-card-title>
      <mat-card-subtitle>Services | Dashboard</mat-card-subtitle>
      <mat-card-content>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean commodo pretium leo, vitae fringilla velit iaculis quis. 
          Nulla finibus magna ac odio commodo, in suscipit turpis euismod. Aenean vel ipsum sem. In faucibus leo ut faucibus pharetra. 
          Nam laoreet tellus vel accumsan mollis. Fusce vel mi a erat facilisis maximus.
        </p>
      </mat-card-content>
      <mat-card-actions align="end">
        <button mat-flat-button color="primary">
          Request New Resource
        </button>
      </mat-card-actions>
    </mat-card>

    <div class="margin-top-l margin-left-m">
      
      <div *ngIf="(loading$ | async)">
        <mat-spinner></mat-spinner>
      </div>

      <div *ngIf="error">
        Error: {{error.message}}
      </div>

      <div *ngIf="!(loading$ | async) && !hasNoServices; else noServices">
        <app-services-list [services]="personServices"></app-services-list>
      </div>
      <ng-template #noServices>
        <div *ngIf="!(loading$ | async) && !error && hasNoServices">
          You haven't been allocated any CeR services yet!
        </div>
      </ng-template>

    </div>
    
  </div>
  
  <app-faqs-panel></app-faqs-panel>
  
</div>
